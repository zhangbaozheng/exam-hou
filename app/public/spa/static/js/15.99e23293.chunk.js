(this.webpackJsonpexam=this.webpackJsonpexam||[]).push([[15],{830:function(e,t,n){"use strict";var a=n(11),r=n(12),i=n(16),o=n(20),c=n(0),s=n.n(c);t.a=function(e){return function(t){Object(i.a)(c,t);var n=Object(o.a)(c);function c(){return Object(a.a)(this,c),n.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return s.a.createElement("div",{style:{width:"100%",height:"100%",padding:"20px",background:"#f0f2f5",overflowY:"auto"}},s.a.createElement("h2",{style:{padding:"10px 0"}},e.title),s.a.createElement("div",{style:{width:"100%",height:"100%",background:"#fff",borderRadius:"10px"}},s.a.createElement(e.Module,this.props)))}}]),c}(c.Component)}},831:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"l",(function(){return g}));var a=n(46);function r(){return a.a.get("/manger/grade")}function i(e){return a.a.delete("/manger/grade/delete",{params:{grade_id:e}})}function o(e){return a.a.post("/manger/grade",e)}function c(e){return a.a.put("/manger/grade/update",JSON.stringify({grade_id:e.grade_id,room_id:e.room_id,subject_id:e.subject_id}),{headers:{"Content-type":"application/json"}})}function s(){return a.a.get("/manger/room")}function u(e){return a.a.delete("/manger/room/delete",{data:{eoom_id:e}})}function l(e){return a.a.post("/manger/room",e)}function d(){return a.a.get("/exam/subject")}function m(){return a.a.get("/manger/student")}function f(e){return a.a.delete("/manger/student/".concat(e))}function p(e){console.log(e);return a.a.post("/grade/getstudent",e)}function g(e){console.log(e);return a.a.get("/exam/student",{params:{grade_id:e.grade_id?e.grade_id:"tjdbk9-r8dbn8-4wsck-c7akdb"}})}},836:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(4),r=n.n(a),i=n(3),o=n.n(i),c=n(0),s=n(5),u=n.n(s),l=n(70),d=n(186),m={small:8,middle:16,large:24};function f(e){var t,n=e.className,a=e.direction,r=e.index,i=e.size,s=e.marginDirection,u=e.children,l=e.split,d=c.useContext(g);if(null===u||void 0===u)return null;var f=r>=d?{}:o()({},"vertical"===a?"marginBottom":s,(null!==(t="string"===typeof i?m[i]:i)&&void 0!==t?t:0)/(l?2:1));return c.createElement(c.Fragment,null,c.createElement("div",{className:n,style:f},u),r<d&&l&&c.createElement("span",{className:"".concat(n,"-split"),style:f},l))}var p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},g=c.createContext(0);t.b=function(e){var t,n=c.useContext(d.b),a=n.getPrefixCls,i=n.space,s=n.direction,m=e.size,h=void 0===m?(null===i||void 0===i?void 0:i.size)||"small":m,y=e.align,v=e.className,b=e.children,x=e.direction,_=void 0===x?"horizontal":x,k=e.prefixCls,O=e.split,w=p(e,["size","align","className","children","direction","prefixCls","split"]),j=Object(l.a)(b,{keepEmpty:!0});if(0===j.length)return null;var E=void 0===y&&"horizontal"===_?"center":y,S=a("space",k),L=u()(S,"".concat(S,"-").concat(_),(t={},o()(t,"".concat(S,"-rtl"),"rtl"===s),o()(t,"".concat(S,"-align-").concat(E),E),t),v),C="".concat(S,"-item"),R="rtl"===s?"marginLeft":"marginRight",D=0,I=j.map((function(e,t){return null!==e&&void 0!==e&&(D=t),c.createElement(f,{className:C,key:"".concat(C,"-").concat(t),direction:_,size:h,index:t,marginDirection:R,split:O},e)}));return c.createElement("div",r()({className:L},w),c.createElement(g.Provider,{value:D},I))}},920:function(e,t,n){"use strict";n.r(t);var a=n(19),r=n.n(a),i=n(42),o=n(11),c=n(12),s=n(16),u=n(20),l=n(0),d=n.n(l),m=n(830),f=n(831),p=n(852),g=n(836),h=n(825),y=n(822),v=n(823),b=n(106),x=n(935),_=p.a.Option,k=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=d.a.createRef(),e.state={columns:[{title:"\u59d3\u540d",dataIndex:"student_name",key:"student_name"},{title:"\u5b66\u53f7",dataIndex:"student_id",key:"student_id"},{title:"\u73ed\u7ea7",dataIndex:"grade_name",key:"grade_name"},{title:"\u6559\u5ba4",dataIndex:"room_text",key:"room_text"},{title:"\u5bc6\u7801",dataIndex:"student_pwd",key:"student_pwd"},{title:"\u64cd\u4f5c",key:"action",render:function(t,n){return d.a.createElement(g.b,{size:"middle"},d.a.createElement("span",{onClick:function(){e.gradeRoomDel(n)}},"\u5220\u9664"))}}],data:[],roomData:[],gradeData:[],searchList:[],isFlag:!0,isShow:!1,layout:{labelCol:{span:8},wrapperCol:{span:16}},tailLayout:{wrapperCol:{offset:8,span:16}},arr:[{name:"room_text",placeholder:"\u6559\u5ba4\u53f7",list:"roomData"},{name:"grade_name",placeholder:"\u73ed\u7ea7\u540d",list:"gradeData"}]},e.onFinish=function(t){var n;n=e.state.data.filter((function(e){return void 0!==t.student_name?e.student_name.includes(t.student_name):void 0!==t.room_text?e.room_text.includes(t.room_text):void 0!==t.grade_name?e.grade_name.includes(t.grade_name):t})),e.setState({searchList:n,isFlag:!1,isShow:!0})},e.onReset=function(){e.formRef.current&&e.formRef.current.resetFields()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getStudentList(),this.getGradeList(),this.getRoomList()}},{key:"getStudentList",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)();case 2:(t=e.sent).data.code&&this.setState({data:t.data.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gradeRoomDel",value:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.k)(t.student_id);case 2:e.sent.data.code?(this.getStudentList(),h.b.info("\u5220\u9664\u6210\u529f")):h.b.info("\u5220\u9664\u5931\u8d25");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGradeList",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)();case 2:(t=e.sent).data.code&&this.setState({gradeData:t.data.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRoomList",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)();case 2:(t=e.sent).data.code&&this.setState({roomData:t.data.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(y.a,Object.assign({},this.state.layout,{ref:this.formRef,name:"control-hooks",onFinish:this.onFinish,style:{display:"flex",alignItems:"center"}}),d.a.createElement(y.a.Item,{name:"student_name",label:""},d.a.createElement(v.a,{placeholder:"\u8f93\u5165\u5b66\u751f\u59d3\u540d",style:{width:200,marginLeft:"20px"}})),this.state.arr.map((function(t,n){return d.a.createElement(y.a.Item,{name:t.name,label:"",key:n+"select"},d.a.createElement(p.a,{showSearch:!0,style:{width:200,margin:"20px"},placeholder:t.placeholder,optionFilterProp:"children"},e.state[t.list].map((function(e,n){return d.a.createElement(_,{value:e[t.name],key:n+"selectOption"},e[t.name])}))))})),d.a.createElement(y.a.Item,Object.assign({},this.state.tailLayout,{style:{width:240,display:"flex",alignItems:"center"}}),d.a.createElement(b.a,{type:"primary",htmlType:"submit"},"\u641c\u7d22"),d.a.createElement(b.a,{type:"primary",htmlType:"button",onClick:function(){e.onReset()},style:{marginLeft:"20px"}},"\u91cd\u7f6e"))),d.a.createElement(x.a,{columns:this.state.columns,dataSource:this.state.data,rowKey:"student_id",style:{display:this.state.isFlag?"block":"none"}}),d.a.createElement(x.a,{columns:this.state.columns,dataSource:this.state.searchList,rowKey:"student_id",style:{display:this.state.isShow?"block":"none"}}))}}]),n}(l.Component);t.default=Object(m.a)({title:"\u5b66\u751f\u7ba1\u7406",Module:k})}}]);
//# sourceMappingURL=15.99e23293.chunk.js.map