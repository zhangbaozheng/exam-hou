{"version":3,"sources":["components/ContentBox.tsx","api/grade.ts","api/exam.ts","../node_modules/_antd@4.7.2@antd/es/space/Item.js","../node_modules/_antd@4.7.2@antd/es/space/index.js","../node_modules/_@ant-design_icons-svg@4.1.0@@ant-design/icons-svg/es/asn/SearchOutlined.js","../node_modules/_@ant-design_icons@4.2.2@@ant-design/icons/es/icons/SearchOutlined.js","views/main/Main-ExamPaperClassmate.tsx"],"names":["ContentBox","props","style","width","height","padding","background","overflowY","title","borderRadius","Module","this","Component","_getGradeList","request","get","_gradeListDel","id","delete","params","grade_id","_gradeListAdd","value","post","_gradeListEdit","put","JSON","stringify","room_id","subject_id","headers","_getRoomList","_gradeRoomDel","data","eoom_id","_gradeRoomAdd","_getSubjectList","_getStudentList","_gradeStudentDel","_gradeStudent","obj","console","log","_studentName","_getExamList","val","_getExam","url","_getAnswer","_correctExam","exam_student_id","score","_getTestDetail","_getTestList","_getTestType","_getTestSubject","_addTest","values","_TestDetail","exam_exam_id","_getQues","_getQuesType","_getQuesCon","exam_id","questions_type_id","spaceSize","small","middle","large","Item","_ref","_a","className","direction","index","size","marginDirection","children","split","latestIndex","React","LastIndexContext","undefined","_defineProperty","concat","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Space","_classNames","_React$useContext","ConfigContext","getPrefixCls","space","directionConfig","_props$size","align","_props$direction","customizePrefixCls","prefixCls","otherProps","childNodes","toArray","keepEmpty","mergedAlign","cn","classNames","itemClassName","nodes","map","child","key","_extends","Provider","SearchOutlined","ref","AntdIcon","assign","icon","SearchOutlinedSvg","displayName","Option","Select","ExamPaperClassmate","state","columns","dataIndex","render","text","record","status","timeChange","start_time","end_time","color","onClick","history","push","pathname","grade_name","mangerData","mangerName","onChange","handleChangeStatus","item","handleChange","type","findStudent","dataSource","location","query","getExamList","getGrade","setState","Number","result","judge","code","exam"],"mappings":"kJAoBeA,IAbI,SAACC,GAChB,8KAEQ,OAAO,yBAAKC,MAAO,CAACC,MAAM,OAAOC,OAAO,OAAOC,QAAS,OAAOC,WAAW,UAAUC,UAAU,SACtF,wBAAIL,MAAO,CAAEG,QAAS,WAAaJ,EAAMO,OACzC,yBAAKN,MAAO,CAAEC,MAAM,OAAOC,OAAO,OAAOE,WAAW,OAAOG,aAAa,SACpE,kBAACR,EAAMS,OAAWC,KAAKV,aAL3C,GAAgCW,e,iCCRpC,oaAWO,SAASC,IACd,OAAOC,IAAQC,IAAI,iBAId,SAASC,EAAcC,GAC5B,OAAOH,IAAQI,OAAO,uBAAuB,CAC3CC,OAAQ,CACNC,SAAUH,KAMT,SAASI,EAAcC,GAC5B,OAAOR,IAAQS,KAAK,gBAAiBD,GAIhC,SAASE,EAAeF,GAC7B,OAAOR,IAAQW,IACb,uBACAC,KAAKC,UAAU,CACbP,SAAUE,EAAMF,SAChBQ,QAASN,EAAMM,QACfC,WAAYP,EAAMO,aAEpB,CACEC,QAAS,CACP,eAAgB,sBAQjB,SAASC,IACd,OAAOjB,IAAQC,IAAI,gBAId,SAASiB,EAAcf,GAC5B,OAAOH,IAAQI,OAAO,sBAAuB,CAC3Ce,KAAM,CACJC,QAASjB,KAMR,SAASkB,EAAcb,GAC5B,OAAOR,IAAQS,KAAK,eAAgBD,GAQ/B,SAASc,IACd,OAAOtB,IAAQC,IAAI,iBAWd,SAASsB,IACd,OAAOvB,IAAQC,IAAI,mBAId,SAASuB,EAAiBrB,GAC/B,OAAOH,IAAQI,OAAR,0BAAkCD,IAGpC,SAASsB,EAAcC,GAC5BC,QAAQC,IAAIF,GAEZ,OAAO1B,IAAQS,KADL,oBACeiB,GAIpB,SAASG,EAAaH,GAC3BC,QAAQC,IAAIF,GAEZ,OAAO1B,IAAQC,IADL,gBACc,CACtBI,OAAQ,CACNC,SAAUoB,EAAIpB,SAAWoB,EAAIpB,SAAW,kC,iCCxG9C,scASO,SAASwB,EAAaC,GAEzB,OAAO/B,IAAQC,IADL,gBACa,CACnBI,OAAO0B,IAGR,SAASC,EAASD,GACrB,IAAIE,EAAG,qBAAiBF,GACxB,OAAO/B,IAAQC,IAAIgC,GAGhB,SAASC,EAAWH,GACvB,IAAIE,EAAG,wBAAoBF,GAC3B,OAAO/B,IAAQC,IAAIgC,GAIhB,SAASE,EAAT,GAAmD,IAA5BC,EAA2B,EAA3BA,gBAAgBC,EAAW,EAAXA,MACtCJ,EAAG,wBAAoBG,GAC3B,OAAOpC,IAAQW,IAAIsB,EAAI,CAACI,UAGrB,SAASC,EAAenC,GAE3B,OAAOH,IAAQC,IADP,aACe,CAACI,OAAO,CAACF,QAI7B,SAASoC,IAEZ,OAAOvC,IAAQC,IADP,cAIL,SAASuC,IAEZ,OAAOxC,IAAQC,IADP,kBAIL,SAASwC,IAEZ,OAAOzC,IAAQC,IADP,iBAKL,SAASyC,EAASC,GAErB,OAAO3C,IAAQS,KADP,aACgBkC,GAGrB,SAASC,EAAT,GAAyC,IAAnBC,EAAkB,EAAlBA,aAEzB,OAAO7C,IAAQC,IADP,aACe4C,GAGpB,SAASC,IAEZ,OAAO9C,IAAQC,IADP,uBAIL,SAAS8C,IAEZ,OAAO/C,IAAQC,IADP,0BAKL,SAAS+C,EAAYjC,EAAgBkC,EAAYC,GAEpD,IAAIjB,EAAI,wCAAD,OAAyClB,EAAzC,oBAA+DkC,EAA/D,8BAA4FC,GACnG,OAAOlD,IAAQC,IAAIgC,K,+IC1EnBkB,EAAY,CACdC,MAAO,EACPC,OAAQ,GACRC,MAAO,IAEM,SAASC,EAAKC,GAC3B,IAQIC,EARAC,EAAYF,EAAKE,UACjBC,EAAYH,EAAKG,UACjBC,EAAQJ,EAAKI,MACbC,EAAOL,EAAKK,KACZC,EAAkBN,EAAKM,gBACvBC,EAAWP,EAAKO,SAChBC,EAAQR,EAAKQ,MAIbC,EAAcC,aAAiBC,GAEnC,GAAiB,OAAbJ,QAAkCK,IAAbL,EACvB,OAAO,KAGT,IAAI3E,EAAQwE,GAASK,EAAc,GAAKI,IAAgB,GAAkB,aAAdV,EAA2B,eAAiBG,GAA+E,QAA5DL,EAAqB,kBAATI,EAAoBV,EAAUU,GAAQA,SAAyB,IAAPJ,EAAgBA,EAAK,IAAMO,EAAQ,EAAI,IACtO,OAAoBE,gBAAoBA,WAAgB,KAAmBA,gBAAoB,MAAO,CACpGR,UAAWA,EACXtE,MAAOA,GACN2E,GAAWH,EAAQK,GAAeD,GAAsBE,gBAAoB,OAAQ,CACrFR,UAAW,GAAGY,OAAOZ,EAAW,UAChCtE,MAAOA,GACN4E,IC7BL,IAAIO,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAEhG,OAAOR,GAQEP,EAAgCD,gBAAoB,GA6DhDmB,IA3DH,SAAelG,GACzB,IAAImG,EAEAC,EAAoBrB,aAAiBsB,KACrCC,EAAeF,EAAkBE,aACjCC,EAAQH,EAAkBG,MAC1BC,EAAkBJ,EAAkB5B,UAEpCiC,EAAczG,EAAM0E,KACpBA,OAAuB,IAAhB+B,GAAoC,OAAVF,QAA4B,IAAVA,OAAmB,EAASA,EAAM7B,OAAS,QAAU+B,EACxGC,EAAQ1G,EAAM0G,MACdnC,EAAYvE,EAAMuE,UAClBK,EAAW5E,EAAM4E,SACjB+B,EAAmB3G,EAAMwE,UACzBA,OAAiC,IAArBmC,EAA8B,aAAeA,EACzDC,EAAqB5G,EAAM6G,UAC3BhC,EAAQ7E,EAAM6E,MACdiC,EAAa1B,EAAOpF,EAAO,CAAC,OAAQ,QAAS,YAAa,WAAY,YAAa,YAAa,UAEhG+G,EAAaC,YAAQpC,EAAU,CACjCqC,WAAW,IAGb,GAA0B,IAAtBF,EAAWf,OACb,OAAO,KAGT,IAAIkB,OAAwBjC,IAAVyB,GAAqC,eAAdlC,EAA6B,SAAWkC,EAC7EG,EAAYP,EAAa,QAASM,GAClCO,EAAKC,IAAWP,EAAW,GAAG1B,OAAO0B,EAAW,KAAK1B,OAAOX,IAAa2B,EAAc,GAAIjB,IAAgBiB,EAAa,GAAGhB,OAAO0B,EAAW,QAA6B,QAApBL,GAA4BtB,IAAgBiB,EAAa,GAAGhB,OAAO0B,EAAW,WAAW1B,OAAO+B,GAAcA,GAAcf,GAAc5B,GAChS8C,EAAgB,GAAGlC,OAAO0B,EAAW,SACrClC,EAAsC,QAApB6B,EAA4B,aAAe,cAE7D1B,EAAc,EACdwC,EAAQP,EAAWQ,KAAI,SAAUC,EAAOzB,GAO1C,OANc,OAAVyB,QAA4BvC,IAAVuC,IACpB1C,EAAciB,GAKIhB,gBAAoBX,EAAM,CAC5CG,UAAW8C,EACXI,IAAK,GAAGtC,OAAOkC,EAAe,KAAKlC,OAAOY,GAC1CvB,UAAWA,EACXE,KAAMA,EACND,MAAOsB,EACPpB,gBAAiBA,EACjBE,MAAOA,GACN2C,MAGL,OAAoBzC,gBAAoB,MAAO2C,IAAS,CACtDnD,UAAW4C,GACVL,GAA0B/B,gBAAoBC,EAAiB2C,SAAU,CAC1EtG,MAAOyD,GACNwC,M,4CC7EUM,EADM,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,ugBAA2gB,KAAQ,SAAU,MAAS,Y,QCK9rBA,EAAiB,SAAwB5H,EAAO6H,GAClD,OAAO9C,gBAAoB+C,IAAUrC,OAAOsC,OAAO,GAAI/H,EAAO,CAC5D6H,IAAKA,EACLG,KAAMC,MAIVL,EAAeM,YAAc,iBACdnD,iBAAiB6C,I,4MCLxBO,EAAWC,IAAXD,OAYFE,E,kDACF,WAAYrI,GAAgB,IAAD,8BACvB,cAAMA,IACDsI,MAAQ,CACTC,QAAS,CACL,CACIhI,MAAO,eACPiI,UAAW,aACXf,IAAK,aACLf,MAAO,UAEX,CACInG,MAAO,eACPiI,UAAW,eACXf,IAAK,eACLf,MAAO,UAEX,CACInG,MAAO,2BACPkH,IAAK,SACLf,MAAO,SACP+B,OAAQ,SAACC,EAAWC,GAAZ,OACJ,kBAAC,IAAD,CAAOjE,KAAK,UACR,8BAAyB,IAAlBiE,EAAOC,OAAe,eAAO,mBAIhD,CACIrI,MAAO,2BACPkH,IAAK,aACLf,MAAO,SACP+B,OAAQ,SAACC,EAAWC,GAAZ,OACJ,kBAAC,IAAD,CAAOjE,KAAK,UACR,8BAAOmE,YAAWF,EAAOG,gBAIrC,CACIvI,MAAO,2BACPkH,IAAK,WACLf,MAAO,SACP+B,OAAQ,SAACC,EAAWC,GAAZ,OACJ,kBAAC,IAAD,CAAOjE,KAAK,UACR,8BAAOmE,YAAWF,EAAOI,cAIrC,CACIxI,MAAO,eACPkH,IAAK,SACLf,MAAO,SACP+B,OAAQ,SAACC,EAAWC,GAAZ,OACJ,kBAAC,IAAD,CAAOjE,KAAK,UAER,0BAAMzE,MAAO,CAAE+I,MAAO,WAAaC,QAAS,WAExC,EAAKjJ,MAAMkJ,QAAQC,KAAK,CACpBC,SAAS,4BAAD,OAA8BT,EAAO1F,iBAC7CqF,MAAO,CACHnH,SAAUwH,EAAOxH,SACjBkI,WAAYV,EAAOU,WACnB3F,aAAciF,EAAOjF,aACrBT,gBAAiB0F,EAAO1F,qBARpC,oBAgBhBjB,KAAM,GACNsH,WAAY,GACZV,OAAQ,EACRW,WAAY,KACZhF,UAAW,MAzEQ,E,qDA6EjB,IAAD,OACL,OACI,6BACI,yBAAKA,UAAU,kBAEX,kBAAC,IAAD,CAAQtE,MAAO,CAAEC,MAAO,KAAOsJ,SAAU,SAAC5G,GAAU,EAAK6G,mBAAmB7G,KACxE,kBAACuF,EAAD,CAAQ9G,MAAM,KAAd,gBACA,kBAAC8G,EAAD,CAAQ9G,MAAM,KAAd,gBACA,kBAAC8G,EAAD,CAAQ9G,MAAM,KAAd,iBAEJ,kBAAC,IAAD,CAAQpB,MAAO,CAAEC,MAAO,KAAOsJ,SAAU,SAAC5G,EAAK8G,GAAW,EAAKC,aAAa/G,EAAK8G,KAEzEhJ,KAAK4H,MAAMgB,WAAW/B,KAAI,SAACmC,EAAWjF,GAClC,OAAO,kBAAC0D,EAAD,CAAQV,IAAKhD,EAAOpD,MAAOqI,EAAKvI,UAAWuI,EAAKL,gBAInE,kBAAC,IAAD,CAAQO,KAAK,UAAUX,QAAS,WAAQ,EAAKY,gBAAiB,kBAAC,IAAD,MAA9D,iBAEJ,kBAAC,IAAD,CAAOtB,QAAS7H,KAAK4H,MAAMC,QAASuB,WAAYpJ,KAAK4H,MAAMtG,U,0CAKnE,GAAItB,KAAKV,MAAMkJ,QAAQa,SAASC,MAAO,CACnC,IAAIhJ,EAAKN,KAAKV,MAAMkJ,QAAQa,SAASC,MAAM7I,SAC3CT,KAAKuJ,YAAYjJ,GAErBN,KAAKwJ,a,yCAEU7I,GACfX,KAAKyJ,SAAS,CACVvB,OAAQwB,OAAO/I,O,mCAGVA,EAAYqI,GACrBhJ,KAAKyJ,SAAS,CACVZ,WAAYlI,EACZkD,UAAWmF,EAAK9E,a,yJAIM,IAAtBlE,KAAK4H,MAAMM,O,gCACUjG,YAAa,CAAExB,SAAUT,KAAK4H,MAAMiB,a,OAAnDc,E,OACN3J,KAAK4J,MAAMD,G,uCAEU1H,YAAa,CAAExB,SAAUT,KAAK4H,MAAMiB,WAAYX,OAAQlI,KAAK4H,MAAMM,S,OAAlFyB,E,OACN3J,KAAK4J,MAAMD,G,mIAGbA,GAAc,IAAD,OACU,IAArBA,EAAOrI,KAAKuI,MACZ7J,KAAKyJ,SAAS,CACVnI,KAAMqI,EAAOrI,KAAKwI,KAAKjD,KAAI,SAACmC,EAAWjF,GAAoB,OAAO,2BAAKiF,GAAZ,IAAkBjC,IAAKhD,EAAO4E,WAAY,EAAKf,MAAM/D,mB,iKAKnG3D,c,OACI,KADnByJ,E,QACKrI,KAAKuI,MACZ7J,KAAKyJ,SAAS,CACVb,WAAYe,EAAOrI,KAAKA,O,iLAIlBhB,G,8FAEO2B,YAAa,CAAExB,SAAUH,I,OACrB,KADnBqJ,E,QACKrI,KAAKuI,MAEZ7J,KAAKyJ,SAAS,CACVnI,KAAMqI,EAAOrI,KAAKwI,KAAKjD,KAAI,SAACmC,EAAWjF,GAAoB,OAAO,2BAAKiF,GAAZ,IAAkBjC,IAAKhD,EAAO4E,WAAY,EAAKrJ,MAAMkJ,QAAQa,SAASC,MAAMX,kB,4GArJtH1I,aA4JlBZ,sBAAW,CACtBQ,MAAO,2BACPE,OAAQ4H","file":"static/js/8.d135fdee.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\ninterface Props {\r\n    Module: any\r\n    title: string\r\n}\r\n\r\nconst ContentBox = (props:Props):any => {\r\n    return class ContentBox extends Component {\r\n        render() {\r\n            return <div style={{width:\"100%\",height:\"100%\",padding: '20px',background:'#f0f2f5',overflowY:'auto'}}>\r\n                    <h2 style={{ padding: '10px 0' }}>{props.title}</h2>\r\n                    <div style={{ width:\"100%\",height:\"100%\",background:'#fff',borderRadius:'10px'}}>\r\n                        <props.Module {...this.props}/>\r\n                    </div>\r\n                </div>\r\n        }\r\n    }\r\n}\r\n\r\nexport default ContentBox\r\n\r\n//高阶组件，用于content的样式和标题展示","/*\r\n * @Description:\r\n * @Author: 王寒烟\r\n * @Date: 2020-10-19 19:20:22\r\n * @LastEditTime: 2020-10-22 18:55:07\r\n * @LastEditors: Please set LastEditors\r\n * @FilePath: \\exam-L\\src\\api\\grade.ts\r\n */\r\nimport request from \"@/utils/request\";\r\n\r\n//班级信息\r\nexport function _getGradeList() {\r\n  return request.get(\"/manger/grade\");\r\n}\r\n\r\n//删除班级\r\nexport function _gradeListDel(id:string) {\r\n  return request.delete('/manger/grade/delete',{\r\n    params: {\r\n      grade_id: id\r\n    }\r\n  })\r\n}\r\n\r\n//添加班级\r\nexport function _gradeListAdd(value: any) {\r\n  return request.post(\"/manger/grade\", value);\r\n}\r\n\r\n//修改班级\r\nexport function _gradeListEdit(value: any) {\r\n  return request.put(\r\n    \"/manger/grade/update\",\r\n    JSON.stringify({\r\n      grade_id: value.grade_id,\r\n      room_id: value.room_id,\r\n      subject_id: value.subject_id,\r\n    }),\r\n    {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\n//教室管理\r\n//获取教室信息\r\nexport function _getRoomList() {\r\n  return request.get(\"/manger/room\");\r\n}\r\n\r\n//删除教室\r\nexport function _gradeRoomDel(id: string) {\r\n  return request.delete(\"/manger/room/delete\", {\r\n    data: {\r\n      eoom_id: id,\r\n    },\r\n  });\r\n}\r\n\r\n//添加教室\r\nexport function _gradeRoomAdd(value: any) {\r\n  return request.post(\"/manger/room\", value);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//获取课程信息\r\nexport function _getSubjectList() {\r\n  return request.get('/exam/subject')\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//学生管理\r\n//学生数据信息\r\nexport function _getStudentList() {\r\n  return request.get(\"/manger/student\");\r\n}\r\n\r\n//删除\r\nexport function _gradeStudentDel(id: string) {\r\n  return request.delete(`/manger/student/${id}`);\r\n}\r\n//根据班级id来获取每个班级学生的分数\r\nexport function _gradeStudent(obj: object) {\r\n  console.log(obj);\r\n  let url = \"/grade/getstudent\";\r\n  return request.post(url, obj);\r\n}\r\n//根据班级获取名字\r\n\r\nexport function _studentName(obj: any) {\r\n  console.log(obj);\r\n  let url = \"/exam/student\";\r\n  return request.get(url, {\r\n    params: {\r\n      grade_id: obj.grade_id ? obj.grade_id : \"tjdbk9-r8dbn8-4wsck-c7akdb\",\r\n    },\r\n  });\r\n}\r\n","/*\r\n * @Descripttion: \r\n * @version: 1.0\r\n * @Author: 赵舒婷\r\n * @Date: 2020-10-20 13:20:29\r\n * @LastEditors: 赵舒婷\r\n * @LastEditTime: 2020-10-20 20:37:49\r\n */\r\nimport request from '@/utils/request'\r\nexport function _getExamList(val:any){ //拿班级对应的学生名单\r\n    let url = '/exam/student'\r\n    return request.get(url,{\r\n        params:val\r\n    })\r\n}\r\nexport function _getExam(val:string){ //通过试卷id获取试卷\r\n    let url = `/exam/exam/${val}`\r\n    return request.get(url)\r\n\r\n}\r\nexport function _getAnswer(val:string){ //通过学生id获取试卷详情\r\n    let url = `/exam/student/${val}`\r\n    return request.get(url)\r\n\r\n}  \r\n\r\nexport function _correctExam({exam_student_id,score}:any){ //批改分数\r\n    let url = `/exam/student/${exam_student_id}`\r\n    return request.put(url,{score})\r\n}\r\n\r\nexport function _getTestDetail(id:string){\r\n    let url='/exam/exam'\r\n    return request.get(url,{params:{id}})\r\n}\r\n//试题列表\r\n\r\nexport function _getTestList() {\r\n    let url='/exam/exam'\r\n    return request.get(url)\r\n};\r\n//考试类型\r\nexport function _getTestType(){\r\n    let url='/exam/examType'\r\n    return request.get(url)\r\n}\r\n//选择课程\r\nexport function _getTestSubject(){\r\n    let url='/exam/subject'\r\n    return request.get(url)\r\n}\r\n\r\n//添加试卷\r\nexport function _addTest(values:any){\r\n    let url='/exam/exam'\r\n    return request.post(url,values)\r\n}\r\n//试卷详情\r\nexport function _TestDetail({exam_exam_id}:any){\r\n    let url=`/exam/exam`\r\n    return request.get(url,exam_exam_id)\r\n}\r\n//试题获取\r\nexport function _getQues(){\r\n    let url='/exam/questions/new'\r\n    return request.get(url)\r\n}\r\n//问题类型\r\nexport function _getQuesType(){\r\n    let url='/exam/getQuestionsType'\r\n    return request.get(url)\r\n}\r\n//按条件获取试题\r\n\r\nexport function _getQuesCon(subject_id: any,exam_id:any,questions_type_id:any)\r\n{\r\n    let url=`/exam/questions/condition?subject_id=${subject_id}&exam_id=${exam_id}&questions_type_id=${questions_type_id}`;\r\n    return request.get(url)\r\n}\r\n","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport * as React from 'react';\nimport { LastIndexContext } from '.';\nvar spaceSize = {\n  small: 8,\n  middle: 16,\n  large: 24\n};\nexport default function Item(_ref) {\n  var className = _ref.className,\n      direction = _ref.direction,\n      index = _ref.index,\n      size = _ref.size,\n      marginDirection = _ref.marginDirection,\n      children = _ref.children,\n      split = _ref.split;\n\n  var _a;\n\n  var latestIndex = React.useContext(LastIndexContext);\n\n  if (children === null || children === undefined) {\n    return null;\n  }\n\n  var style = index >= latestIndex ? {} : _defineProperty({}, direction === 'vertical' ? 'marginBottom' : marginDirection, ((_a = typeof size === 'string' ? spaceSize[size] : size) !== null && _a !== void 0 ? _a : 0) / (split ? 2 : 1));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: style\n  }, children), index < latestIndex && split && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(className, \"-split\"),\n    style: style\n  }, split));\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport { ConfigContext } from '../config-provider';\nimport Item from './Item';\nexport var LastIndexContext = /*#__PURE__*/React.createContext(0);\n\nvar Space = function Space(props) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      space = _React$useContext.space,\n      directionConfig = _React$useContext.direction;\n\n  var _props$size = props.size,\n      size = _props$size === void 0 ? (space === null || space === void 0 ? void 0 : space.size) || 'small' : _props$size,\n      align = props.align,\n      className = props.className,\n      children = props.children,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'horizontal' : _props$direction,\n      customizePrefixCls = props.prefixCls,\n      split = props.split,\n      otherProps = __rest(props, [\"size\", \"align\", \"className\", \"children\", \"direction\", \"prefixCls\", \"split\"]);\n\n  var childNodes = toArray(children, {\n    keepEmpty: true\n  });\n\n  if (childNodes.length === 0) {\n    return null;\n  }\n\n  var mergedAlign = align === undefined && direction === 'horizontal' ? 'center' : align;\n  var prefixCls = getPrefixCls('space', customizePrefixCls);\n  var cn = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(direction), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), directionConfig === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-align-\").concat(mergedAlign), mergedAlign), _classNames), className);\n  var itemClassName = \"\".concat(prefixCls, \"-item\");\n  var marginDirection = directionConfig === 'rtl' ? 'marginLeft' : 'marginRight'; // Calculate latest one\n\n  var latestIndex = 0;\n  var nodes = childNodes.map(function (child, i) {\n    if (child !== null && child !== undefined) {\n      latestIndex = i;\n    }\n    /* eslint-disable react/no-array-index-key */\n\n\n    return /*#__PURE__*/React.createElement(Item, {\n      className: itemClassName,\n      key: \"\".concat(itemClassName, \"-\").concat(i),\n      direction: direction,\n      size: size,\n      index: i,\n      marginDirection: marginDirection,\n      split: split\n    }, child);\n    /* eslint-enable */\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: cn\n  }, otherProps), /*#__PURE__*/React.createElement(LastIndexContext.Provider, {\n    value: latestIndex\n  }, nodes));\n};\n\nexport default Space;","// This icon file is generated automatically.\nvar SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\nexport default SearchOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/SearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SearchOutlined = function SearchOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: SearchOutlinedSvg\n  }));\n};\n\nSearchOutlined.displayName = 'SearchOutlined';\nexport default React.forwardRef(SearchOutlined);","import React, { Component } from 'react';\r\nimport ContentBox from '@/components/ContentBox';\r\nimport { Table, Space, Select, Button } from 'antd';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { ColumnsType } from 'antd/lib/table/index';\r\nimport { _getGradeList } from '@/api/grade';\r\nimport { _getExamList } from '@/api/exam';\r\nimport { timeChange } from '@/utils';\r\n\r\nconst { Option } = Select;\r\ninterface IProps {\r\n    history: any\r\n}\r\ninterface IState {\r\n    [key: string]: any\r\n    data: any[]\r\n    mangerData: any[]\r\n    status: any\r\n    columns?: ColumnsType<any> | undefined\r\n}\r\n\r\nclass ExamPaperClassmate extends Component<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props)\r\n        this.state = {\r\n            columns: [\r\n                {\r\n                    title: '班级',\r\n                    dataIndex: 'grade_name',\r\n                    key: 'grade_name',\r\n                    align: 'center',\r\n                },\r\n                {\r\n                    title: '姓名',\r\n                    dataIndex: 'student_name',\r\n                    key: 'student_name',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '阅卷状态',\r\n                    key: 'status',\r\n                    align: 'center',\r\n                    render: (text: any, record: any) => (\r\n                        <Space size=\"middle\">\r\n                            <span>{record.status === 0 ? '未阅' : '已阅'}</span>\r\n                        </Space>\r\n                    ),\r\n                },\r\n                {\r\n                    title: '开始时间',\r\n                    key: 'start_time',\r\n                    align: 'center',\r\n                    render: (text: any, record: any) => (\r\n                        <Space size=\"middle\">\r\n                            <span>{timeChange(record.start_time)}</span>\r\n                        </Space>\r\n                    ),\r\n                },\r\n                {\r\n                    title: '结束时间',\r\n                    key: 'end_time',\r\n                    align: 'center',\r\n                    render: (text: any, record: any) => (\r\n                        <Space size=\"middle\">\r\n                            <span>{timeChange(record.end_time)}</span>\r\n                        </Space>\r\n                    ),\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    key: 'action',\r\n                    align: 'center',\r\n                    render: (text: any, record: any) => (\r\n                        <Space size=\"middle\">\r\n\r\n                            <span style={{ color: '#1890FF' }} onClick={() => {\r\n\r\n                                this.props.history.push({\r\n                                    pathname: `/index/ExaminationPapers/${record.exam_student_id}`,\r\n                                    state: {\r\n                                        grade_id: record.grade_id,\r\n                                        grade_name: record.grade_name,\r\n                                        exam_exam_id: record.exam_exam_id,\r\n                                        exam_student_id: record.exam_student_id\r\n                                    }\r\n                                })\r\n                            }}>批卷</span>\r\n                        </Space>\r\n                    ),\r\n                },\r\n            ],\r\n            data: [], //表格信息\r\n            mangerData: [], //班级数据\r\n            status: 0, //阅卷状态\r\n            mangerName: null, //阅卷班级\r\n            className: null //班级名称\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"zst-examSearch\">\r\n\r\n                    <Select style={{ width: 120 }} onChange={(val) => { this.handleChangeStatus(val) }}>\r\n                        <Option value=\"2\">全部</Option>\r\n                        <Option value=\"0\">未阅</Option>\r\n                        <Option value=\"1\">已阅</Option>\r\n                    </Select>\r\n                    <Select style={{ width: 120 }} onChange={(val, item) => { this.handleChange(val, item) }}>\r\n                        {\r\n                            this.state.mangerData.map((item: any, index: number) => {\r\n                                return <Option key={index} value={item.grade_id}>{item.grade_name}</Option>\r\n                            })\r\n                        }\r\n                    </Select>\r\n                    <Button type=\"primary\" onClick={() => { this.findStudent() }}><SearchOutlined />查询</Button>\r\n                </div>\r\n                <Table columns={this.state.columns} dataSource={this.state.data} />\r\n            </div>\r\n        );\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.history.location.query) {\r\n            let id = this.props.history.location.query.grade_id\r\n            this.getExamList(id)\r\n        }\r\n        this.getGrade()\r\n    }\r\n    handleChangeStatus(value: any) { //更改阅卷状态\r\n        this.setState({\r\n            status: Number(value)\r\n        })\r\n    }\r\n    handleChange(value: any, item: any) {  //更改班级\r\n        this.setState({\r\n            mangerName: value,\r\n            className: item.children\r\n        })\r\n    }\r\n    async findStudent() { //按条件查找学生\r\n        if (this.state.status === 2) {\r\n            const result = await _getExamList({ grade_id: this.state.mangerName })\r\n            this.judge(result)\r\n        } else {\r\n            const result = await _getExamList({ grade_id: this.state.mangerName, status: this.state.status })\r\n            this.judge(result)\r\n        }\r\n    }\r\n    judge(result: any) { //通过选择的阅卷状态进行判断\r\n        if (result.data.code === 1) {\r\n            this.setState({\r\n                data: result.data.exam.map((item: any, index: number) => { return { ...item, key: index, grade_name: this.state.className } })\r\n            })\r\n        }\r\n    }\r\n    async getGrade() { //拿班级信息\r\n        const result = await _getGradeList()\r\n        if (result.data.code === 1) {\r\n            this.setState({\r\n                mangerData: result.data.data\r\n            })\r\n        }\r\n    }\r\n    async getExamList(id: string) { //拿试卷列表\r\n\r\n        const result = await _getExamList({ grade_id: id })\r\n        if (result.data.code === 1) {\r\n\r\n            this.setState({\r\n                data: result.data.exam.map((item: any, index: number) => { return { ...item, key: index, grade_name: this.props.history.location.query.grade_name } })\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default ContentBox({\r\n    title: '待批试卷',\r\n    Module: ExamPaperClassmate\r\n})"],"sourceRoot":""}