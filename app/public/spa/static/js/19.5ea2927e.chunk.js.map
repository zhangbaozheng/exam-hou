{"version":3,"sources":["components/ContentBox.tsx","api/exam.ts","views/main/Main-ExamDetail.tsx"],"names":["ContentBox","props","style","width","height","padding","background","overflowY","title","borderRadius","Module","this","Component","_getExamList","val","request","get","params","_getExam","url","_getAnswer","_correctExam","exam_student_id","score","put","_getTestDetail","id","_getTestList","_getTestType","_getTestSubject","_addTest","values","post","_TestDetail","exam_exam_id","_getQues","_getQuesType","_getQuesCon","subject_id","exam_id","questions_type_id","ExamDetail","state","data","getData","history","location","res","exam","newdata","forEach","item","push","res_q","quesdata","ndata","setState","className","map","key","questions_id","questions_stem"],"mappings":"mJAoBeA,IAbI,SAACC,GAChB,8KAEQ,OAAO,yBAAKC,MAAO,CAACC,MAAM,OAAOC,OAAO,OAAOC,QAAS,OAAOC,WAAW,UAAUC,UAAU,SACtF,wBAAIL,MAAO,CAAEG,QAAS,WAAaJ,EAAMO,OACzC,yBAAKN,MAAO,CAAEC,MAAM,OAAOC,OAAO,OAAOE,WAAW,OAAOG,aAAa,SACpE,kBAACR,EAAMS,OAAWC,KAAKV,aAL3C,GAAgCW,e,iCCRpC,scASO,SAASC,EAAaC,GAEzB,OAAOC,IAAQC,IADL,gBACa,CACnBC,OAAOH,IAGR,SAASI,EAASJ,GACrB,IAAIK,EAAG,qBAAiBL,GACxB,OAAOC,IAAQC,IAAIG,GAGhB,SAASC,EAAWN,GACvB,IAAIK,EAAG,wBAAoBL,GAC3B,OAAOC,IAAQC,IAAIG,GAIhB,SAASE,EAAT,GAAmD,IAA5BC,EAA2B,EAA3BA,gBAAgBC,EAAW,EAAXA,MACtCJ,EAAG,wBAAoBG,GAC3B,OAAOP,IAAQS,IAAIL,EAAI,CAACI,UAGrB,SAASE,EAAeC,GAE3B,OAAOX,IAAQC,IADP,aACe,CAACC,OAAO,CAACS,QAI7B,SAASC,IAEZ,OAAOZ,IAAQC,IADP,cAIL,SAASY,IAEZ,OAAOb,IAAQC,IADP,kBAIL,SAASa,IAEZ,OAAOd,IAAQC,IADP,iBAKL,SAASc,EAASC,GAErB,OAAOhB,IAAQiB,KADP,aACgBD,GAGrB,SAASE,EAAT,GAAyC,IAAnBC,EAAkB,EAAlBA,aAEzB,OAAOnB,IAAQC,IADP,aACekB,GAGpB,SAASC,IAEZ,OAAOpB,IAAQC,IADP,uBAIL,SAASoB,IAEZ,OAAOrB,IAAQC,IADP,0BAKL,SAASqB,EAAYC,EAAgBC,EAAYC,GAEpD,IAAIrB,EAAI,wCAAD,OAAyCmB,EAAzC,oBAA+DC,EAA/D,8BAA4FC,GACnG,OAAOzB,IAAQC,IAAIG,K,uICjEjBsB,E,4MACFC,MAAM,CACFC,KAAK,I,kEAGLhC,KAAKiC,Y,mKAGDV,EAAevB,KAAKV,MAAM4C,QAAQC,SAASJ,MAAMR,a,SACnCD,YAAYC,G,cAAxBa,E,OACFJ,EAAOI,EAAIJ,KAAKK,KAChBC,EAAiB,GACrBN,EAAKO,SAAQ,SAACC,GACNA,EAAKjB,eAAiBA,GACtBe,EAAQG,KAAKD,M,SAGDhB,c,OAAdkB,E,OACAC,EAAWD,EAAMV,KAAKA,KACxBY,EAAe,GACnBD,EAASJ,SAAQ,SAACC,GACdF,EAAQC,SAAQ,SAACpC,GACTqC,EAAKb,aAAexB,EAAIwB,YACxBiB,EAAMH,KAAKD,SAIvBxC,KAAK6C,SAAS,CACVb,KAAKY,I,sIAKT,OACI,yBAAKE,UAAU,YAEP9C,KAAK+B,MAAMC,KAAKe,KAAI,SAACP,GACrB,OAAO,uBAAGQ,IAAKR,EAAKS,aAAcH,UAAU,UAChC,2BAAIN,EAAK3C,OACT,8BAAO2C,EAAKU,yB,GAvCnBjD,aAgDVZ,sBAAW,CACtBQ,MAAO,2BACPE,OAAQ+B","file":"static/js/19.5ea2927e.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\ninterface Props {\r\n    Module: any\r\n    title: string\r\n}\r\n\r\nconst ContentBox = (props:Props):any => {\r\n    return class ContentBox extends Component {\r\n        render() {\r\n            return <div style={{width:\"100%\",height:\"100%\",padding: '20px',background:'#f0f2f5',overflowY:'auto'}}>\r\n                    <h2 style={{ padding: '10px 0' }}>{props.title}</h2>\r\n                    <div style={{ width:\"100%\",height:\"100%\",background:'#fff',borderRadius:'10px'}}>\r\n                        <props.Module {...this.props}/>\r\n                    </div>\r\n                </div>\r\n        }\r\n    }\r\n}\r\n\r\nexport default ContentBox\r\n\r\n//高阶组件，用于content的样式和标题展示","/*\r\n * @Descripttion: \r\n * @version: 1.0\r\n * @Author: 赵舒婷\r\n * @Date: 2020-10-20 13:20:29\r\n * @LastEditors: 赵舒婷\r\n * @LastEditTime: 2020-10-20 20:37:49\r\n */\r\nimport request from '@/utils/request'\r\nexport function _getExamList(val:any){ //拿班级对应的学生名单\r\n    let url = '/exam/student'\r\n    return request.get(url,{\r\n        params:val\r\n    })\r\n}\r\nexport function _getExam(val:string){ //通过试卷id获取试卷\r\n    let url = `/exam/exam/${val}`\r\n    return request.get(url)\r\n\r\n}\r\nexport function _getAnswer(val:string){ //通过学生id获取试卷详情\r\n    let url = `/exam/student/${val}`\r\n    return request.get(url)\r\n\r\n}  \r\n\r\nexport function _correctExam({exam_student_id,score}:any){ //批改分数\r\n    let url = `/exam/student/${exam_student_id}`\r\n    return request.put(url,{score})\r\n}\r\n\r\nexport function _getTestDetail(id:string){\r\n    let url='/exam/exam'\r\n    return request.get(url,{params:{id}})\r\n}\r\n//试题列表\r\n\r\nexport function _getTestList() {\r\n    let url='/exam/exam'\r\n    return request.get(url)\r\n};\r\n//考试类型\r\nexport function _getTestType(){\r\n    let url='/exam/examType'\r\n    return request.get(url)\r\n}\r\n//选择课程\r\nexport function _getTestSubject(){\r\n    let url='/exam/subject'\r\n    return request.get(url)\r\n}\r\n\r\n//添加试卷\r\nexport function _addTest(values:any){\r\n    let url='/exam/exam'\r\n    return request.post(url,values)\r\n}\r\n//试卷详情\r\nexport function _TestDetail({exam_exam_id}:any){\r\n    let url=`/exam/exam`\r\n    return request.get(url,exam_exam_id)\r\n}\r\n//试题获取\r\nexport function _getQues(){\r\n    let url='/exam/questions/new'\r\n    return request.get(url)\r\n}\r\n//问题类型\r\nexport function _getQuesType(){\r\n    let url='/exam/getQuestionsType'\r\n    return request.get(url)\r\n}\r\n//按条件获取试题\r\n\r\nexport function _getQuesCon(subject_id: any,exam_id:any,questions_type_id:any)\r\n{\r\n    let url=`/exam/questions/condition?subject_id=${subject_id}&exam_id=${exam_id}&questions_type_id=${questions_type_id}`;\r\n    return request.get(url)\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport ContentBox from '@/components/ContentBox'\r\nimport { _TestDetail, _getQues } from '@/api/exam'\r\ninterface Props {\r\n    history: any\r\n    match: any\r\n}\r\ninterface State {\r\n\r\n}\r\n\r\nclass ExamDetail extends Component<Props, State> {\r\n    state={\r\n        data:[]\r\n    }\r\n    componentDidMount() {\r\n        this.getData()\r\n    }\r\n    async getData() {\r\n        let exam_exam_id = this.props.history.location.state.exam_exam_id\r\n        const res = await _TestDetail(exam_exam_id);\r\n        let data = res.data.exam\r\n        let newdata: any[] = []\r\n        data.forEach((item: any) => {\r\n            if (item.exam_exam_id === exam_exam_id) {\r\n                newdata.push(item)\r\n            }\r\n        })\r\n        const res_q = await _getQues();\r\n        const quesdata = res_q.data.data\r\n        let ndata: any[] = []\r\n        quesdata.forEach((item: any) => {\r\n            newdata.forEach((val: any) => {\r\n                if (item.subject_id === val.subject_id) {\r\n                    ndata.push(item)\r\n                }\r\n            })\r\n        })\r\n        this.setState({\r\n            data:ndata\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='s-detail'>\r\n                {\r\n                    this.state.data.map((item:any)=>{\r\n                    return <p key={item.questions_id} className='s-item'>\r\n                                <p>{item.title}</p>\r\n                                <span>{item.questions_stem}</span>\r\n                            </p>\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ContentBox({\r\n    title: '试卷详情',\r\n    Module: ExamDetail\r\n})"],"sourceRoot":""}