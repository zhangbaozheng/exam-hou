{"version":3,"sources":["components/ContentBox.tsx","config/User-Show.tsx","views/main/Main-ShowUser.tsx"],"names":["ContentBox","props","style","width","height","padding","background","overflowY","title","borderRadius","Module","this","Component","userAll","id","name","TabPane","Tabs","ShowUser","state","data","columns","idData","userData","relationData","authorityData","view_authorityData","userId","localStorage","getItem","callback","key","dataIndex","setTabList","className","defaultActiveKey","onChange","map","item","tab","rowKey","dataSource","user","_user","result","_identity","identity","_relation","relation","_authority","authority","_user_new","user_new","_view_authority","view_authority","setState","Math","random"],"mappings":"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","file":"static/js/29.2643360f.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\ninterface Props {\r\n    Module: any\r\n    title: string\r\n}\r\n\r\nconst ContentBox = (props:Props):any => {\r\n    return class ContentBox extends Component {\r\n        render() {\r\n            return <div style={{width:\"100%\",height:\"100%\",padding: '20px',background:'#f0f2f5',overflowY:'auto'}}>\r\n                    <h2 style={{ padding: '10px 0' }}>{props.title}</h2>\r\n                    <div style={{ width:\"100%\",height:\"100%\",background:'#fff',borderRadius:'10px'}}>\r\n                        <props.Module {...this.props}/>\r\n                    </div>\r\n                </div>\r\n        }\r\n    }\r\n}\r\n\r\nexport default ContentBox\r\n\r\n//高阶组件，用于content的样式和标题展示","const userAll = [\r\n    {\r\n        id: 1,\r\n        name: \"用户数据\",\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"身份数据\",\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"api接口权限\",\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"身份和api接口关系\",\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"视图接口权限\",\r\n    },\r\n    {\r\n        id: 6,\r\n        name: \"身份和视图权限关系\",\r\n    },\r\n]\r\nexport default userAll","import { Tabs, Table } from \"antd\";\r\nimport userAll from '@/config/User-Show'\r\nimport React, { Component } from 'react'\r\nimport ContentBox from '@/components/ContentBox'\r\nimport {\r\n    _user,\r\n    _identity,\r\n    _relation,\r\n    _authority,\r\n    _view_authority,\r\n    _user_new,\r\n} from \"@/api/index\";\r\nconst { TabPane } = Tabs;\r\ninterface Props { }\r\ninterface State { }\r\nclass ShowUser extends Component<Props, State> {\r\n    state = {\r\n        data: [],\r\n        columns: [],\r\n        idData: [],\r\n        userData: [],\r\n        relationData: [],\r\n        authorityData: [],\r\n        view_authorityData: [],\r\n        userId: localStorage.getItem(\"user_id\"),\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{ padding: \"20px\" }}>\r\n                <div className=\"ShowNav\">\r\n                    <Tabs defaultActiveKey=\"1\" onChange={this.callback}>\r\n                        {userAll.map((item) => {\r\n                            return (\r\n                                <TabPane tab={item.name} key={item.id}>\r\n                                    <div className=\"ant-wrapper\">\r\n                                        <h2>{item.name}</h2>\r\n                                    </div>\r\n                                </TabPane>\r\n                            );\r\n                        })}\r\n                    </Tabs>\r\n                    <Table\r\n                        rowKey=\"key\"\r\n                        columns={this.state.columns}\r\n                        dataSource={this.state.data}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    componentDidMount() {\r\n        this.user();\r\n    }\r\n    //获取用户数据\r\n    async user() {\r\n        let result = await _user();\r\n        let identity = await _identity();\r\n        let relation = await _relation();\r\n        let authority = await _authority();\r\n        let user_new = await _user_new(this.state.userId);\r\n        let view_authority = await _view_authority();\r\n        this.setState(\r\n            {\r\n                userData: result.data.data,\r\n                idData: identity.data.data,\r\n                user_new: user_new.data.data,\r\n                relationData: relation.data.data,\r\n                authorityData: authority.data.data,\r\n                view_authorityData: view_authority.data.data,\r\n\r\n            },\r\n            () => {\r\n                this.callback(\"1\");\r\n            }\r\n        );\r\n    }\r\n    //Tab点击事件\r\n    callback = (key: any) => {\r\n        let columns = [];\r\n        switch (key) {\r\n            case \"1\":\r\n                columns = [\r\n                    {\r\n                        title: \"用户名\",\r\n                        dataIndex: \"user_name\",\r\n                        key: \"name\",\r\n                    },\r\n                    {\r\n                        title: \"密码\",\r\n                        dataIndex: \"user_pwd\",\r\n                        key: \"age\",\r\n                    },\r\n\r\n                    {\r\n                        title: \"身份\",\r\n                        key: \"action\",\r\n                        dataIndex: \"identity_text\",\r\n                    },\r\n                ];\r\n                this.setTabList(this.state.userData, columns);\r\n                break;\r\n            case \"2\":\r\n                columns = [\r\n                    {\r\n                        title: \"身份名称\",\r\n                        dataIndex: \"identity_text\",\r\n                        key: \"identity_text\",\r\n                    },\r\n                ];\r\n                this.setTabList(this.state.idData, columns);\r\n                break;\r\n            case \"3\":\r\n                columns = [\r\n                    {\r\n                        title: \"api权限名称\",\r\n                        dataIndex: \"api_authority_text\",\r\n                        key: \"api_authority_text\",\r\n                    },\r\n                    {\r\n                        title: \"api权限url\",\r\n                        dataIndex: \"api_authority_url\",\r\n                        key: \"api_authority_url\",\r\n                    },\r\n                    {\r\n                        title: \"api权限方法\",\r\n                        dataIndex: \"api_authority_method\",\r\n                        key: \"api_authority_method\",\r\n                    },\r\n                ];\r\n                this.setTabList(this.state.relationData, columns);\r\n                break;\r\n            case \"4\":\r\n                columns = [\r\n                    {\r\n                        title: \"身份名称\",\r\n                        dataIndex: \"identity_text\",\r\n                        key: \"identity_text\",\r\n                    },\r\n                    {\r\n                        title: \"api权限名称\",\r\n                        dataIndex: \"api_authority_text\",\r\n                        key: \"api_authority_text\",\r\n                    },\r\n                    {\r\n                        title: \"api权限url\",\r\n                        dataIndex: \"api_authority_url\",\r\n                        key: \"api_authority_url\",\r\n                    },\r\n                    {\r\n                        title: \"api权限方法\",\r\n                        dataIndex: \"api_authority_method\",\r\n                        key: \"api_authority_method\",\r\n                    },\r\n                ];\r\n                this.setTabList(this.state.authorityData, columns);\r\n                break;\r\n            case \"5\":\r\n                columns = [\r\n                    {\r\n                        title: \"视图权限名称\",\r\n                        dataIndex: \"view_authority_text\",\r\n                        key: \"view_authority_text\",\r\n                    },\r\n                    {\r\n                        title: \"视图id\",\r\n                        dataIndex: \"view_id\",\r\n                        key: \"view_id\",\r\n                    },\r\n                ];\r\n                this.setTabList(this.state.view_authorityData, columns);\r\n                break;\r\n            case \"6\":\r\n                columns = [\r\n                    {\r\n                        title: \"身份\",\r\n                        dataIndex: \"identity_text\",\r\n                        key: \"identity_text\",\r\n                    },\r\n                    {\r\n                        title: \"视图名称\",\r\n                        dataIndex: \"view_authority_text\",\r\n                        key: \"view_authority_text\",\r\n                    },\r\n                    {\r\n                        title: \"视图id\",\r\n                        dataIndex: \"view_id\",\r\n                        key: \"view_id\",\r\n                    },\r\n                ];\r\n                this.setTabList(this.state.view_authorityData, columns);\r\n                break;\r\n        }\r\n    };\r\n    setTabList(data: any, columns: any) {\r\n        this.setState({\r\n            data: data.map((item: { key: number }) => {\r\n                item.key = Math.random() * 100;\r\n                return item;\r\n            }),\r\n            columns,\r\n        });\r\n    }\r\n}\r\n\r\nexport default ContentBox({\r\n    title: \"用户展示\",\r\n    Module: ShowUser\r\n})\r\n"],"sourceRoot":""}